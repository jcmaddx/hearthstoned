@import "./mixins.scss";
.hs-packs {
	z-index: 9;
	background: none!important;
	#sticky-pack {
		width: calc(30vh * .73);
		height: 30vh;
		background: url('/images/pack.png') no-repeat center center;
		background-size: auto 100%;
		position: absolute;
		z-index: -1;
		opacity: 0;
		&.stuck {
			opacity: 1;
			z-index: 10;
		}
	}
	.opening-container {
		width: 100%;
		height: 100%;
		position: relative;
		background: url('/images/wood-fill.jpg') repeat top center;
		h1 {
			margin: 0;
			color: white;
		}
		.opening-content {
			height: 95vh;
			width: calc((95vh * .33) + (95vh * 1.05));
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			&:before, &:after {
				display: block;
				content: "";
				height: 95vh;
				width: calc(95vh * .19);
				position: absolute;
				background: url('/images/bg-hinge.jpg') no-repeat center center;
				background-size: auto 100%;
				top: 0;
			}
			&:before {
				left: calc(95vh * .19 * -1);
			}
			&:after {
				right: calc(95vh * .19 * -1);;
				transform: rotate(180deg);
			}
			.pack-tray {
				position: absolute;
				left: 0;
				height: 95vh;
				width: calc(95vh * .33);
				background: url('/images/pack-tray.png') no-repeat center center;
				background-size: auto 100%;
				z-index: 2;
				.packs-available {
					width: calc(30vh * .73);
    			height: 30vh;
					background: url('/images/pack.png') no-repeat center center;
					background-size: auto 100%;
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translateX(-60%) translateY(-50%);
					&:before, &:after {
						content: "";
						width: 100%;
						height: 100%;
						background-position: center center;
						background-repeat: no-repeat;
						background-size: auto 100%;
						position: absolute;
						top: 0;
						left: 0;
					}
					&:before {
						background-image: url('/images/pack.png');
						z-index: 1;
						transform: translateX(3%);
					}
					&:after {
						background-image: url('/images/pack-silhouette.png');
						z-index: 0;
						height: 120%;
				    width: 120%;
				    top: -12%;
				    left: -17%;
					}
					.pack-counter {
						position: absolute;
						z-index: 3;
						top: 1.1vh;
						right: 10%;
						height: 9vh;
						width: 9vh;
						background: url('/images/pack-amount.png') no-repeat center center;
						background-size: auto 100%;
						p {
							text-align: center;
							color: white;
							@include stroked;
							font-size: 3.5vh;
							line-height: 6vh;
							margin: 0;
							padding: 0 0 0 .6vh;
						}
					}
				}
			}
			.altar {
				position:absolute;
				right: 0;
				height: 95vh;
				width: calc(95vh * 1.07);
				z-index: 1;
				overflow: hidden;
				background-image: url('/images/pack-disc.jpg');
				background-size: 100% 100%;
				&:before, &:after {
					width: 100%;
					height: 100%;
					content: "";
					position: absolute;
					background-repeat: no-repeat;
					background-position: center center;
					background-size: auto 100%;
				}
				&:before {
					background-image: url('/images/pack-disc.jpg');
					z-index: 1;
					animation: spinnin 7s linear infinite;
					top: 50%;
					left: 50%;
				}
				&:after {
					top: 0;
					left: 0;
					background-image: url('/images/altar.png');
					z-index: 2;
				}
				.altar-glow {
					width: 100%;
					height: 100%;
					background: url('/images/disc-glow.png') no-repeat center center;
					background-size: auto 100%;
					position: absolute;
					z-index: 5;
					animation: pulse 7s infinite;
					display: none;
					&.show {
						display: block;
					}
				}
				.drop-zone {
					height: 55vh;
					width: 55vh;
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translateX(-50%) translateY(-50%);
					z-index: 10;
					.bullseye {
						height: 30vh;
						width: calc(30vh * .73);
						position: absolute;
						top: 50%;
						left: 50%;
						transform: translateX(-55%) translateY(-50%);
						.drop-pack {
							width: 100%;
							height: 100%;
							background: url('/images/pack.png') no-repeat center center;
							background-size: auto 100%;
							position: absolute;
							z-index: 3;
							left: 3px;
							display: none;
							&.show {
								display: block;
							}
						}
						.drop-glow {
							display: none;
							width: 120%;
							height: 120%;
							position: absolute;
							top: -10%;
							left: -10%;
							background: url('/images/pack-drop-glow.png') no-repeat center center;
							background-size: auto 100%;
							z-index: 2;
							animation: pulse 5s infinite;
							&.show {
								display: block;
							}
						}
					}
				}
			}
		}
	}
	&.hidden {
		opacity: 0;
	}
	&.open-in {
		transform-origin: 50% 50%;
		animation: openin .5s forward;
	}
}

@keyframes pulse {
	0%, 100% {opacity: 0.7;}
  50% {opacity: 1;}
}

@keyframes openin {
  0% {opacity: 0; transform: scale(0.7);}
  100% {opacity: 1; transform: scale(1);}
}