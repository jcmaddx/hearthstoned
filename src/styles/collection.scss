@import "./mixins.scss";
.hs-collection {
	z-index: 3;
	background: none!important;
	.collection-container {
		width: 100%;
		height: 100%;
		position: relative;
		background: url('/images/global/wood-fill.jpg') repeat top center;
		.collection-content {
			height: 95vh;
			width: calc(calc(95vh * 1.05) + calc(95vh * .34));
			position: absolute;
			left: 50%;
			transform: translateX(-50%);
			&:before, &:after {
				display: block;
				content: "";
				height: 95vh;
				width: calc(95vh * .19);
				position: absolute;
				background: url('/images/global/bg-hinge.jpg') no-repeat center center;
				background-size: auto 100%;
				top: 0;
			}
			&:before {
				left: calc(95vh * .19 * -1);
			}
			&:after {
				right: calc(95vh * .19 * -1);
				transform: rotate(180deg);
			}
			.book-cover {
				height: 95vh;
				width: calc(95vh * 1.14);
				background: url('/images/collection/book-cover.png') no-repeat center center;
				background-size: 100% 100%;
				position: absolute;
				top: 0;
				left: -5%;
				z-index: 3;
				perspective: 1000;
				&:before {
					content: "";
					display: block;
					position: absolute;
					right: 1.3%;
			    top: 37%;
			    height: 25vh;
			    width: calc(25vh * 0.85);
					background: url('/images/collection/book-latch.png') no-repeat center center;
					background-size: auto 100%;
				}
				&.open {
					transition: transform .3s linear;
					transform-origin: 0 50%;
					animation: opencover 1s linear forwards;
					&:before {
						transition: transform .3s linear;
						transform-origin: 100% 50%;
						transform: rotateY(-112deg);
					}
				}
			}
			.deck-tray {
				position: absolute;
				right: 0;
				height: 95vh;
				width: calc(95vh * .34);
				background: url('/images/collection/deck-tray.png') no-repeat right top;
				background-size: auto 100%;
				z-index: 2;
				.back-button {
					position: absolute;
			    bottom: 0.5%;
    			right: 5.5%;
			    height: 5.7vh;
			    width: calc(5.7vh * 2.7);
					.button {
						.button-bracket {
							margin: 0 calc(5.7vh * .94);
							height: 5.7vh;
							width: calc(100% - (5.7vh * .94 * 2));
							&:before, &:after {
								height: 5.7vh;
   							width: calc(5.7vh * .94);
							}
							&:before {
								left: calc(5.7vh * .94 * -1 + 1px)
							}
							&:after {
								right: calc(5.7vh * .94 * -1 + 1px)
							}
							.button-inner {
								height: 4.4vh;
    						line-height: 4.4vh;
    						width: calc(192% - (4.4vh * .389 * 2));
    						left: -54%;
    						font-size: 2vh;
    						&:before, &:after {
    							height: 4.4vh;
    							width: calc(4.4vh * .389);
    						}
    						&:before {
    							left: calc(4.4vh * .389 * -1 + 1px);
    						}
    						&:after {
    							right: calc(4.4vh * .389 * -1 + 1px);
    						}
							}
						}
					}
				}
			}
			.pages {
				position:absolute;
				left: 0;
				height: 95vh;
				width: calc(95vh * 1.065);
				z-index: 0;
				overflow: hidden;
				background-image: url('/images/collection/page-bg.jpg');
				background-size: 100% 100%;
				overflow: visible;
				.class-tabs {
					width: 100%;
					height: 6.9%;
				}
				.page {
					width: 98.5%;
					height: 85.4%;
					left: 1%;
					margin-top: -0.2%;
					background: url('/images/collection/page.png') no-repeat left top;
					background-size: auto 100%;
					position: absolute;
					transform-origin: 0 50%;
					perspective: 300px;
					transform-style: preserve-3d;
					.page-nav-back, .page-nav-forward {
						display: block;
						height: 100%;
						position: absolute;
						top: 0;
						width: 10%;
					}
					.page-nav-back {
						width: 5%;
						left: 0%;
						&:hover {
							cursor: url(/images/global/leftarrow.png) 13 16, auto;
						}
					}
					.page-nav-forward {
						right: 0;
						&:hover {
							cursor: url(/images/global/rightarrow.png) 22 16, auto;
						}
					}
					.page-title {
						text-align: center;
						color: #2a1801;
						width: 38%;
						height: 13%;
						transform: translateX(-10%);
						font-size: 3vh;
    				line-height: 10.3vh;
						display: block;
						background: url('/images/collection/labels/neutral.png') no-repeat center center;
						background-size: auto 100%;
						margin: 0 auto;
						backface-visibility: hidden;
					}
					.card {
						position: relative;
						display: inline-block;
						vertical-align: top;
						transform: scale(0.5);
    				margin: -9% -11% -8% -4%;
    				backface-visibility: hidden;
					}
					> p {
						position: absolute;
						bottom: 0;
						width: 100%;
						text-align: center;
						font-size: 2.5vh;
				    color: #635645;
				    margin-bottom: 1vh;
					}
					&.flipOut {
						animation: pageFlipOut .5s linear forwards;
					}
					&.flipIn {
						animation: pageFlipIn .5s linear forwards;
					}
				}
				&.unopened {
					.page {
						opacity: 0;
					}
				}
				@include descending-z-index;
				.search-bar {
					height: 7.7%;
					width: 100%;
					background: -moz-linear-gradient(top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
					background: -webkit-linear-gradient(top, rgba(0,0,0,0.5) 0%,rgba(0,0,0,0) 100%);
					background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%,rgba(0,0,0,0) 100%);
					filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#80000000', endColorstr='#00000000',GradientType=0 );
				}
			}
			#collection-overlay {
				width: 100%;
				height: 100%;
				position: fixed;
				top: 0;
		    left: -50vw;
		    padding: 0 50vw;
				background: rgba(0,0,0,0.7);
				z-index: 3;
				display: none;
				&.show {
					display: block;
				}
				&.fadeaway {
					opacity: 0;
					transition: opacity 1.5s;
				}
			}
		}
	}
	&.hidden {
		opacity: 0;
	}
	&.collection-in {
		transform-origin: 50% 50%;
		animation: openin .5s linear forwards;
	}
	&.collection-out {
		animation: openout .2s linear forwards;
	}
}